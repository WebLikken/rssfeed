'use strict';
let uuid = require('uuid');
let Dto = require(__base + 'dto-services/dto-general-service');
let User = require(__base + '/model/User').User;
let AWS_CONFIG = require(__base + '/config/dto-config').AWS_CONFIG;

let create = function (Email) {
    return new User(uuid.v1(), Email);
};
let getUserByEmail = function (email) {
    return new Promise((resolve, reject) => {
        let params1 = {
            "TableName": AWS_CONFIG.TABLE_USER,
            "Key": {
                "Email": {
                    "S": email
                }
            }
        };
        Dto.getItem(params1, function (error, data) {
            if (!error) {
                resolve(data);
            } else {
                reject(error);
            }
        });
    });
};
exports.create = create;
exports.getUserByEmail = getUserByEmail;